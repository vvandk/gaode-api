import{u as a,F as e}from"./useForm-0cf5fadd.js";import{L as t,e as s,a4 as o,r,o as l,l as n,m as i,x as c,k as p,D as m,dj as d,a6 as u,dk as b}from"./index-dc787e95.js";import{E as f}from"./el-button-adf54e9f.js";const w=t([{field:"web_baidu",label:"百度统计代码",colProps:{span:24},component:"Input",componentProps:{rows:8,type:"textarea",style:{width:"700px"}}},{field:"web_baidu_remard",label:"",component:"Text",componentProps:{modelValue:'不包含&lt;script&gt;标签，只需要复制&lt;script&gt;标签内的内容即可，<a href="https://tongji.baidu.com/web5/welcome/login?castk=LTE%3D" target="_blank" style="color: #1890ff">点击注册</a>'},colProps:{span:24}},{field:"active",label:"",colProps:{span:24}}]),y=s({__name:"baidu",props:{tabId:o.number},setup(t){const s=t,{register:o,methods:y,elFormRef:_}=a({schema:w}),{setValues:g}=y;let v=r({});const x=async()=>{const a=await d({tab_id:s.tabId});a&&(g(a.data),v.value=a.data)},h=r(!1),j=async()=>{const a=p(_);await(null==a?void 0:a.validate((async a=>{if(a){h.value=!0;let a=await y.getFormData();if(!a)return h.value=!1,u.error("未获取到数据");try{if(await b(a))return x(),u.success("更新成功")}finally{h.value=!1}}})))};return x(),(a,t)=>(l(),n(p(e),{onRegister:p(o)},{active:i((()=>[c(p(f),{type:"primary",onClick:j},{default:i((()=>[m("立即提交")])),_:1})])),_:1},8,["onRegister"]))}});export{y as _};
