import{u as a,F as e}from"./useForm-0cf5fadd.js";import{L as s,e as t,a4 as o,r as l,o as n,l as r,m as p,x as i,k as c,D as m,dj as d,a6 as u,dk as f}from"./index-dc787e95.js";import{E as y}from"./el-button-adf54e9f.js";const b=s([{field:"email_access",label:"邮箱账号",colProps:{span:24},component:"Input",componentProps:{style:{width:"500px"}}},{field:"email_password",label:"邮箱密码",colProps:{span:24},component:"Input",componentProps:{style:{width:"500px"}}},{field:"email_server",label:"邮箱服务器",colProps:{span:24},component:"Input",componentProps:{style:{width:"500px"}}},{field:"email_port",label:"服务器端口",colProps:{span:24},component:"Input",componentProps:{style:{width:"500px"}}},{field:"active",label:"",colProps:{span:24}}]),_=t({__name:"email",props:{tabId:o.number},setup(s){const t=s,{register:o,methods:_,elFormRef:v}=a({schema:b}),{setValues:w}=_;let P=l({});const x=async()=>{const a=await d({tab_id:t.tabId});a&&(w(a.data),P.value=a.data)},h=l(!1),I=async()=>{const a=c(v);await(null==a?void 0:a.validate((async a=>{if(a){h.value=!0;let a=await _.getFormData();if(!a)return h.value=!1,u.error("未获取到数据");try{if(await f(a))return x(),u.success("更新成功")}finally{h.value=!1}}})))};return x(),(a,s)=>(n(),r(c(e),{onRegister:c(o)},{active:p((()=>[i(c(y),{type:"primary",onClick:I},{default:p((()=>[m("立即提交")])),_:1})])),_:1},8,["onRegister"]))}});export{_};
