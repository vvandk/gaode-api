import{e,ar as s,av as o,f as t,o as l,j as a,y as n,q as r,s as i,k as d,z as c,x as u,m as f,l as p,p as m,E as g,M as h,n as b,_ as v,cP as y,aL as k,u as C,r as w,at as x,af as $,Y as _,bg as R,aO as A,C as F,cc as I,t as j,a4 as M,ba as z,cQ as E,w as L,aa as D,a8 as S,D as T,bc as O}from"./index-dc787e95.js";import{u as q,a as P,b as B}from"./el-overlay-9a40cbcb.js";import{d as N,a as U,b as Y,c as H,u as K}from"./use-dialog-30a6a371.js";import{F as Q,d as V}from"./el-popper-06627937.js";import{c as G}from"./el-dropdown-item-978ba092.js";import{u as J}from"./use-form-item-cb2ecb0c.js";const W=Symbol("dialogInjectionKey"),X=["aria-label"],Z=["id"],ee=e({name:"ElDialogContent"});var se=v(e({...ee,props:N,emits:U,setup(e){const v=e,{t:k}=s(),{Close:C}=y,{dialogRef:w,headerRef:x,bodyId:$,ns:_,style:R}=o(W),{focusTrapRef:A}=o(Q),F=G(A,w),I=t((()=>v.draggable));return q(w,x,I),(e,s)=>(l(),a("div",{ref:d(F),class:i([d(_).b(),d(_).is("fullscreen",e.fullscreen),d(_).is("draggable",d(I)),d(_).is("align-center",e.alignCenter),{[d(_).m("center")]:e.center},e.customClass]),style:b(d(R)),tabindex:"-1"},[n("header",{ref_key:"headerRef",ref:x,class:i(d(_).e("header"))},[r(e.$slots,"header",{},(()=>[n("span",{role:"heading",class:i(d(_).e("title"))},c(e.title),3)])),e.showClose?(l(),a("button",{key:0,"aria-label":d(k)("el.dialog.close"),class:i(d(_).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[u(d(g),{class:i(d(_).e("close"))},{default:f((()=>[(l(),p(m(e.closeIcon||d(C))))])),_:1},8,["class"])],10,X)):h("v-if",!0)],2),n("div",{id:d($),class:i(d(_).e("body"))},[r(e.$slots,"default")],10,Z),e.$slots.footer?(l(),a("footer",{key:0,class:i(d(_).e("footer"))},[r(e.$slots,"footer")],2)):h("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const oe=["aria-label","aria-labelledby","aria-describedby"],te=e({name:"ElDialog",inheritAttrs:!1});const le=j(v(e({...te,props:Y,emits:H,setup(e,{expose:s}){const o=e,a=k();J({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},t((()=>!!a.title))),J({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},t((()=>!!o.customClass)));const c=C("dialog"),m=w(),g=w(),v=w(),{visible:y,titleId:j,bodyId:M,style:z,overlayDialogStyle:E,rendered:L,zIndex:D,afterEnter:S,afterLeave:T,beforeLeave:O,handleClose:q,onModalClick:N,onOpenAutoFocus:U,onCloseAutoFocus:Y,onCloseRequested:H,onFocusoutPrevented:Q}=K(o,m);x(W,{dialogRef:m,headerRef:g,bodyId:M,ns:c,rendered:L,style:z});const G=B(N),X=t((()=>o.draggable&&!o.fullscreen));return s({visible:y,dialogContentRef:v}),(e,s)=>(l(),p(I,{to:"body",disabled:!e.appendToBody},[u(F,{name:"dialog-fade",onAfterEnter:d(S),onAfterLeave:d(T),onBeforeLeave:d(O),persisted:""},{default:f((()=>[$(u(d(P),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":d(D)},{default:f((()=>[n("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:d(j),"aria-describedby":d(M),class:i(`${d(c).namespace.value}-overlay-dialog`),style:b(d(E)),onClick:s[0]||(s[0]=(...e)=>d(G).onClick&&d(G).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>d(G).onMousedown&&d(G).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>d(G).onMouseup&&d(G).onMouseup(...e))},[u(d(V),{loop:"",trapped:d(y),"focus-start-el":"container",onFocusAfterTrapped:d(U),onFocusAfterReleased:d(Y),onFocusoutPrevented:d(Q),onReleaseRequested:d(H)},{default:f((()=>[d(L)?(l(),p(se,_({key:0,ref_key:"dialogContentRef",ref:v},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:d(X),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:d(q)}),R({header:f((()=>[e.$slots.title?r(e.$slots,"title",{key:1}):r(e.$slots,"header",{key:0,close:d(q),titleId:d(j),titleClass:d(c).e("title")})])),default:f((()=>[r(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:f((()=>[r(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):h("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,oe)])),_:3},8,["mask","overlay-class","z-index"]),[[A,d(y)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]])),ae={class:"flex justify-between"},ne=e({__name:"Dialog",props:{modelValue:M.bool.def(!1),title:M.string.def("Dialog"),top:M.string.def("8vh"),fullscreen:M.bool.def(!0),height:M.oneOfType([String,Number]).def("500px"),width:M.oneOfType([String,Number]).def("700px")},setup(e){const s=e,o=k(),a=t((()=>{const e=["fullscreen","title","height","top","width"],o={...z(),...s};for(const s in o)-1!==e.indexOf(s)&&delete o[s];return o})),i=w(!1),m=()=>{i.value=!d(i)},g=w(E(s.height)?`${s.height}px`:s.height);L((()=>i.value),(async e=>{if(await D(),e){const e=document.documentElement.offsetHeight;g.value=e-55-60-(o.footer?63:0)+"px"}else g.value=E(s.height)?`${s.height}px`:s.height}),{immediate:!0});const v=t((()=>({height:d(g)})));return(s,t)=>{const g=S("Icon");return l(),p(d(le),_(a.value,{fullscreen:i.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1,top:e.top,width:e.width}),R({header:f((()=>[n("div",ae,[r(s.$slots,"title",{},(()=>[T(c(e.title),1)])),e.fullscreen?(l(),p(g,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px z-10",icon:i.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:m},null,8,["icon"])):h("",!0)])])),default:f((()=>[u(d(O),{style:b(v.value)},{default:f((()=>[r(s.$slots,"default")])),_:3},8,["style"])])),_:2},[d(o).footer?{name:"footer",fn:f((()=>[r(s.$slots,"footer")])),key:"0"}:void 0]),1040,["fullscreen","top","width"])}}});export{ne as _};
