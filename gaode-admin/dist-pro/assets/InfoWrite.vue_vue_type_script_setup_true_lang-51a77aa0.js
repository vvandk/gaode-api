import{u as e,F as a}from"./useForm-0cf5fadd.js";import{e as s,a5 as o,L as r,r as t,o as n,l,m as i,y as p,x as d,D as c,k as m,a6 as u,a7 as f}from"./index-dc787e95.js";import{E as g}from"./el-button-adf54e9f.js";import{u as b}from"./useValidator-ce35917e.js";const v={class:"w-[50%]"},y=s({__name:"InfoWrite",setup(s){const{required:y}=b(),h=o(),w={name:[y()],gender:[y()]},P=r([{field:"name",label:"用户名称",component:"Input",colProps:{span:24},componentProps:{style:{width:"50%"}}},{field:"nickname",label:"用户昵称",component:"Input",colProps:{span:24},componentProps:{style:{width:"50%"}}},{field:"telephone",label:"手机号",component:"Input",colProps:{span:24},componentProps:{style:{width:"50%"},maxlength:11}},{field:"gender",label:"性别",colProps:{span:24},component:"Radio",componentProps:{options:[{label:"男",value:"0"},{label:"女",value:"1"}]}},{field:"save",colProps:{span:24}}]),{register:k,elFormRef:_,methods:j}=e(),{setValues:x}=j;x(h.getUser);const F=t(!1),I=async()=>{if(1===h.getUser.id)return u.warning("编辑账号为演示账号，无权限操作！");const e=m(_);await(null==e?void 0:e.validate((async e=>{if(e){F.value=!0;const{getFormData:e}=j,a=await e();try{const e=await f(a);e&&(h.updateUser(e.data),u.success("保存成功"))}finally{F.value=!1}}})))};return(e,s)=>(n(),l(m(a),{schema:P,rules:w,"hide-required-asterisk":"",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:m(k)},{save:i((()=>[p("div",v,[d(m(g),{loading:F.value,type:"primary",class:"w-[100%]",onClick:I},{default:i((()=>[c(" 保存 ")])),_:1},8,["loading"])])])),_:1},8,["schema","onRegister"]))}});export{y as _};
