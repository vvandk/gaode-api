import{u as e,F as l}from"./useForm-0cf5fadd.js";import{u as o}from"./useValidator-ce35917e.js";import{b as t}from"./menu-49936113.js";import{L as a,e as n,a4 as s,w as p,o as i,l as d,m as r,y as c,x as m,k as u,D as h}from"./index-dc787e95.js";import{E as f}from"./el-button-adf54e9f.js";import{a as b}from"./el-divider-7e837124.js";const w=a([{field:"title",label:"菜单名称",width:"200px",disabled:!0,show:!0},{field:"icon",label:"图标",width:"120px",show:!1},{field:"order",label:"排序",width:"120px",show:!0},{field:"menu_type",label:"菜单类型",width:"120px",show:!0},{field:"perms",label:"权限标识",width:"150px",show:!0},{field:"path",label:"路由地址",show:!0},{field:"component",label:"组件路径",show:!0},{field:"noCache",label:"页面缓存",width:"120px",show:!0},{field:"hidden",label:"显示状态",width:"120px",show:!0},{field:"disabled",label:"菜单状态",width:"120px",show:!0},{field:"action",width:"200px",label:"操作",show:!0}]),y=a([{field:"parent_id",label:"上级菜单",colProps:{span:24},component:"TreeSelect",componentProps:{style:{width:"100%"},checkStrictly:!0,placeholder:"请选择上级菜单",nodeKey:"value",defaultExpandAll:!0}},{field:"menu_type",label:"菜单类型",colProps:{span:24},component:"Radio",componentProps:{style:{width:"100%"},options:[{label:"目录",value:"0"},{label:"菜单",value:"1"},{label:"按钮",value:"2"}]},value:"0"},{field:"icon",label:"菜单图标",colProps:{span:24},component:"Input",ifshow:e=>"2"!==e.menu_type},{field:"title",label:"菜单名称",component:"Input",colProps:{span:12}},{field:"order",label:"显示排序",component:"InputNumber",colProps:{span:12},componentProps:{style:{width:"100%"}}},{field:"path",label:"路由地址",component:"Input",colProps:{span:12},ifshow:e=>"2"!==e.menu_type},{field:"component",label:"组件路径",component:"Input",colProps:{span:12},ifshow:e=>"2"!==e.menu_type},{field:"redirect",label:"重定向",component:"Input",colProps:{span:12},ifshow:e=>"2"!==e.menu_type},{field:"hidden",label:"显示状态",colProps:{span:12},component:"Radio",componentProps:{style:{width:"100%"},options:[{label:"显示",value:!1},{label:"隐藏",value:!0}]},value:!1,ifshow:e=>"2"!==e.menu_type},{field:"disabled",label:"菜单状态",colProps:{span:12},component:"Radio",componentProps:{style:{width:"100%"},options:[{label:"正常",value:!1},{label:"停用",value:!0}]},value:!1,ifshow:e=>"2"!==e.menu_type},{field:"perms",label:"权限标识",component:"Input",colProps:{span:12},ifshow:e=>"2"===e.menu_type},{field:"noCache",label:"页面缓存",colProps:{span:12},component:"Radio",componentProps:{style:{width:"100%"},options:[{label:"缓存",value:!1},{label:"不缓存",value:!0}]},value:!1,ifshow:e=>"1"===e.menu_type,labelMessage:"开启页面缓存,需要组件名称必须与xx.vue页面的name一致"}]),v={style:{display:"flex","justify-content":"space-between"}},_={style:{"margin-left":"10px"}},x=n({__name:"Write",props:{currentRow:{type:Object,default:()=>null},parentId:s.number.def(void 0)},setup(n,{expose:s}){const w=n,{required:x}=o(),P=a({title:[x()],menu_type:[x()],disabled:[x()],hidden:[x()],path:[x()],noCache:[x()],order:[x()]}),{register:I,methods:R,elFormRef:g}=e({schema:y});p((()=>w.currentRow),(e=>{if(!e)return;const{setValues:l}=R;l(e)}),{deep:!0,immediate:!0});(async()=>{const e=await t();if(e){const{setSchema:l}=R;if(l([{field:"parent_id",path:"componentProps.data",value:e.data}]),w.parentId){const{setValue:e}=R;e("parent_id",w.parentId)}}})();const j=()=>{window.open("https://iconify.design/")};return s({elFormRef:g,getFormData:R.getFormData}),(e,o)=>(i(),d(u(l),{rules:P,onRegister:u(I),labelWidth:100},{icon:r((e=>[c("div",v,[m(u(b),{modelValue:e.icon,"onUpdate:modelValue":l=>e.icon=l,placeholder:"支持 Iconify 中的所有图标，请登录网站自行搜索：https://iconify.design/",style:{width:"500px"}},null,8,["modelValue","onUpdate:modelValue"]),c("div",_,[m(u(f),{type:"primary",onClick:j},{default:r((()=>[h("跳转")])),_:1})])])])),_:1},8,["rules","onRegister"]))}});export{x as _,w as c};
